language: php
php:
- 7.0
git:
  depth: 30
before_script:
  - composer require squizlabs/php_codesniffer:2.*
  - mkdir -p ~/build
  - git clone --branch hubzero-cms-2.1 --depth=1 https://github.com/hubzero/standards ~/build/standards
  - FILES=`git diff --name-only $TRAVIS_COMMIT_RANGE`
  - echo "Sniffing:"
  - echo $FILES
script:
- vendor/squizlabs/php_codesniffer/scripts/phpcs -np --standard=~/build/standards/Php/ruleset.xml $FILES
