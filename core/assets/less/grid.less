//
// @package     hubzero-cms
// @file        media/system/less/grid.less
// @copyright   Copyright 2005-2013 Purdue University. All rights reserved.
// @license     http://www.gnu.org/licenses/lgpl-3.0.html LGPLv3
//

//
// Grid system
// --------------------------------------------------

	.grid {
		#grid > .grid
	}
	.columns,
	.grid .col {
		display: block;
		width: 100%;
		min-height: 1em;
		.box-sizing(border-box);
	}
	
	.grid .col.omega,
	.two.second,
	.three.third,
	.four.fourth,
	.five.fifth,
	.six.sixth {
		margin-right: 0;
	}

/* COLUMN WIDTH ON DISPLAYS +768px */

	.columns,
	.grid [class*="span"] {
		#grid > .col
	}

// Old columns support
	.five.columns {
		width: 17.41935483870968%;
	}
	.five.columns.first.second,
	.five.columns.second.third,
	.five.columns.third.fourth,
	.five.columns.fourth.fifth { 
		width: 38.46153846153846%;
	}
	.five.columns.first.second.third,
	.five.columns.second.third.fourth,
	.five.columns.third.fourth.fifth {
		width: 58.97435897435897%;
	}
	.five.columns.first.second.third.fourth,
	.five.columns.second.third.fourth.fifth {
		width: 79.48717948717948%;
	}

// Spans
	.grid .span-whole,
	.grid .span12 {
		#grid > .span(12);
	}
	.grid .span11 {
		#grid > .span(11);
	}
	.six.columns.first.second.third.fourth.fifth,
	.six.columns.second.third.fourth.fifth.sixth,
	.grid .span10 {
		#grid > .span(10);
	}
	.four.columns.first.second.third,
	.four.columns.second.third.fourth,
	.grid .span-three-quarters,
	.grid .span9 {
		#grid > .span(9);
	}
	.six.columns.first.second.third.fourth,
	.six.columns.second.third.fourth.fifth,
	.six.columns.third.fourth.fifth.sixth,
	.three.columns.first.second,
	.three.columns.second.third,
	.grid .span-two-thirds,
	.grid .span8 {
		#grid > .span(8);
	}
	.grid .span7 {
		#grid > .span(7);
	}
	.six.columns.first.second.third,
	.six.columns.second.third.fourth,
	.six.columns.third.fourth.fifth,
	.six.columns.fourth.fifth.sixth,
	.four.columns.first.second,
	.four.columns.second.third,
	.four.columns.third.fourth,
	.two.columns,
	.grid .span-half,
	.grid .span6 {
		#grid > .span(6);
	}
	.grid .span5 {
		#grid > .span(5);
	}
	.six.columns.first.second,
	.six.columns.second.third,
	.six.columns.third.fourth,
	.six.columns.fourth.fifth,
	.six.columns.fifth.sixth,
	.three.columns,
	.grid .span-third,
	.grid .span4 {
		#grid > .span(4);
	}
	.four.columns,
	.grid .span-quarter,
	.grid .span3 {
		#grid > .span(3);
	}
	.six.columns,
	.grid .span2 {
		#grid > .span(2);
	}
	.grid .span1 {
		#grid > .span(1);
	}

// Offsets
	.grid .offset-whole,
	.grid .offset12 {
		#grid > .offset(12);
	}
	.grid .offset11 {
		#grid > .offset(11);
	}
	.grid .offset10 {
		#grid > .offset(10);
	}
	.grid .offset-three-quarters,
	.grid .offset9 {
		#grid > .offset(9);
	}
	.grid .offset-two-thirds,
	.grid .offset8 {
		#grid > .offset(8);
	}
	.grid .offset7 {
		#grid > .offset(7);
	}
	.grid .offset-half,
	.grid .offset6 {
		#grid > .offset(6);
	}
	.grid .offset5 {
		#grid > .offset(5);
	}
	.grid .offset-third,
	.grid .offset4 {
		#grid > .offset(4);
	}
	.grid .offset-quarter,
	.grid .offset3 {
		#grid > .offset(3);
	}
	.grid .offset2 {
		#grid > .offset(2);
	}
	.grid .offset1 {
		#grid > .offset(1);
	}


// Breaking the grid media queries

@media only screen and (max-width: @break6) and (min-width: (@break3 + 1)) {
	// Collapse 6 columns into a set of two 3 columns
	
	.grid:not(.nobreak) .col:first-child:nth-last-child(6),
	.grid:not(.nobreak) .col:first-child:nth-last-child(6) ~ .col {
		float: left;
		#grid > .span(4);
	}
	
	.grid:not(.nobreak) .col:first-child:nth-last-child(6) ~ .col:nth-child(3n) {
		margin-right: 0;
	}
	
	// Add bottom margin to the first 3 columns
	.grid:not(.nobreak) .col:first-child:nth-last-child(6),
	.grid:not(.nobreak) .col:first-child:nth-last-child(6) ~ .col:nth-child(-n + 3) {
		margin-bottom: @gridColCollapseMargin;
	}
	
	// Clear the 4th column
	.grid:not(.nobreak) .col:first-child:nth-last-child(6) ~ .col:nth-child(4) {
		clear: left;
	}
	
	.grid.break6 > .col {
		.basicColumn;
	}

}

@media only screen and (max-width: @break4) and (min-width: (@break2 + 1)) {
	// Collapse 4 columns into a set of two 2 columns
	
	.grid:not(.nobreak) .col:first-child:nth-last-child(4),
	.grid:not(.nobreak) .col:first-child:nth-last-child(4) ~ .col {
		float: left;
		#grid > .span(6);
	}
	
	.grid:not(.nobreak) .col:first-child:nth-last-child(4) ~ .col:nth-child(2) {
		margin-right: 0;
	}
	
	// Add bottom margin to the first 2 columns
	.grid:not(.nobreak) .col:first-child:nth-last-child(4),
	.grid:not(.nobreak) .col:first-child:nth-last-child(4) ~ .col:nth-child(-n + 2) {
		margin-bottom: @gridColCollapseMargin;
	}
	
	// Clear the 3rd column
	.grid:not(.nobreak) .col:first-child:nth-last-child(4) ~ .col:nth-child(3) {
		clear: left;
	}
	
	.grid.break6 > .col, .grid.break4 > .col {
		.basicColumn;
	}
}

@media only screen and (max-width: @break3) and (min-width: (@break2 + 1)) {
	// Collapse 3 columns
	
	.grid:not(.nobreak) .col:first-child:nth-last-child(3),
	.grid:not(.nobreak) .col:first-child:nth-last-child(3) ~ .col {
		.basicColumn;
	}
	
	// Add bottom margin to the first 2 columns
	.grid:not(.nobreak) .col:first-child:nth-last-child(3),
	.grid:not(.nobreak) .col:first-child:nth-last-child(3) ~ .col:nth-child(-n + 2) {
		margin-bottom: @gridColCollapseMargin;
	}
	
	.break3 > .col {
		float: none;
		width: 100%;
		margin-right: 0;	
	}
	
	// Re-collapse 6 columns (2-2-2)	
	.grid:not(.nobreak) .col:first-child:nth-last-child(6),
	.grid:not(.nobreak) .col:first-child:nth-last-child(6) ~ .col {
		float: left;
		#grid > .span(6);
	}
	
	.grid:not(.nobreak) .col:first-child:nth-last-child(6) ~ .col:nth-child(2n) {
		margin-right: 0;
	}
	
	// Add bottom margin to the first 4 columns
	.grid:not(.nobreak) .col:first-child:nth-last-child(6),
	.grid:not(.nobreak) .col:first-child:nth-last-child(6) ~ .col:nth-child(-n + 4) {
		margin-bottom: @gridColCollapseMargin;
	}
	
	// Clear the 3rd and 5th column
	.grid:not(.nobreak) .col:first-child:nth-last-child(6) ~ .col:nth-child(3),
	.grid:not(.nobreak) .col:first-child:nth-last-child(6) ~ .col:nth-child(5) {
		clear: left;
	}
	
	.grid.break6 > .col, .grid.break4 > .col, .grid.break3 > .col {
		.basicColumn;
	}
}

@media only screen and (max-width: @break2) {
	.grid:not(.nobreak) .col {
		.basicColumn;
	}
	
	
}

/*
@media (max-width: 800px) {
	.grid .span-quarter,
	.grid .span3 {
		#grid > .span(6);
		&:nth-child(2) {
			margin-right: 0;
		}
	}
	.grid .span2 {
		#grid > .span(4);
		&:nth-child(3) {
			margin-right: 0;
		}
	}
	.grid .span1 {
		#grid > .span(2);
		&:nth-child(6) {
			margin-right: 0;
		}
	}
}
@media (max-width: 460px) {
	.columns,
	.grid [class*="span"] {
		float: none;
		width: auto;
		margin-left: 0;
		margin-right: 0;
	}
}
*/