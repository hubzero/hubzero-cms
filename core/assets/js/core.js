/**
 * @package    hubzero-cms
 * @copyright  Copyright 2005-2019 HUBzero Foundation, LLC.
 * @license    http://opensource.org/licenses/MIT MIT
 */
if(void 0===Hubzero)var Hubzero={};function writeDynaList(e,t,r,o,n){var a="\n\t<select "+e+">",i=0;for(x in t){if(t[x][0]==r){var u="";(o==r&&n==t[x][1]||0==i&&o!=r)&&(u='selected="selected"'),a+='\n\t\t<option value="'+t[x][1]+'" '+u+">"+t[x][2]+"</option>"}i++}a+="\n\t</select>",document.writeln(a)}function changeDynaList(e,t,r,o,n){var a=document.adminForm[e];for(i in a.options.length)a.options[i]=null;for(x in i=0,t)t[x][0]==r&&(opt=new Option,opt.value=t[x][1],opt.text=t[x][2],(o==r&&n==opt.value||0==i)&&(opt.selected=!0),a.options[i++]=opt);a.length=i}function radioGetCheckedValue(e){if(!e)return"";var t=e.length;if(null==t)return e.checked?e.value:"";for(var r=0;r<t;r++)if(e[r].checked)return e[r].value;return""}function getSelectedValue(e,t){var r=document[e][t];return i=r.selectedIndex,null!=i&&-1<i?r.options[i].value:null}function checkAll(e,t){if(t||(t="cb"),e.form){for(var r=0,o=0,n=e.form.elements.length;o<n;o++){var a=e.form.elements[o];a.type==e.type&&(t&&0==a.id.indexOf(t)||!t)&&(a.checked=e.checked,r+=1==a.checked?1:0)}return e.form.boxchecked&&(e.form.boxchecked.value=r),!0}var i=document.adminForm,u=(r=i.toggle.checked,n=e,0);for(o=0;o<n;o++){var s=i[t+""+o];s&&(s.checked=r,u++)}document.adminForm.boxchecked.value=r?u:0}function listItemTask(e,t){return Hubzero.listItemTask(e,t)}function isChecked(e){1==e?document.adminForm.boxchecked.value++:document.adminForm.boxchecked.value--}function submitbutton(e){return Hubzero.submitbutton(e)}function submitform(e){return Hubzero.submitform(e)}function popupWindow(e,t,r,o,n){return Hubzero.popupWindow(e,t,r,o,n)}function tableOrdering(e,t,r){var o=document.adminForm;return Hubzero.tableOrdering(e,t,r,o)}function saveorder(e,t){checkAll_button(e,t)}function checkAll_button(e,t){return Hubzero.saveOrder(e,t)}if(Hubzero.editors={},Hubzero.editors.instances={},Hubzero.submitform=function(e,t){var r;void 0===t?(t=document.getElementById("adminForm"))||(t=document.adminForm):t instanceof jQuery&&(t=t[0]),void 0!==e&&""!==e&&(t.task.value=e),document.createEvent?(r=document.createEvent("HTMLEvents")).initEvent("submit",!0,!0):document.createEventObject&&((r=document.createEventObject()).eventType="submit"),"function"==typeof t.onsubmit?t.onsubmit():"function"==typeof t.dispatchEvent?t.dispatchEvent(r):"function"==typeof t.fireEvent&&t.fireEvent(r),t.submit()},Hubzero.submitbutton=function(e){Hubzero.submitform(e)},Hubzero.Lang={strings:{},txt:function(e,t){return void 0!==this.strings[e.toUpperCase()]?this.strings[e.toUpperCase()]:t},load:function(e){for(var t in e)this.strings[t.toUpperCase()]=e[t];return this}},Hubzero.replaceTokens=function(e){for(var t=document.getElementsByTagName("input"),r=0;r<t.length;r++)"hidden"==t[r].type&&32==t[r].name.length&&"1"==t[r].value&&(t[r].name=e)},Hubzero.isEmail=function(e){return new RegExp("^[\\w-_.]*[\\w-_.]@[\\w].+[\\w]+[\\w]$").test(e)},Hubzero.checkAll=function(e,t){if(t||(t="cb"),e.form){for(var r=0,o=0,n=e.form.elements.length;o<n;o++){var a=e.form.elements[o];a.type==e.type&&(t&&0==a.id.indexOf(t)||!t)&&(a.checked=e.checked,r+=1==a.checked?1:0)}return e.form.boxchecked&&(e.form.boxchecked.value=r),!0}return!1},Hubzero.renderMessages=function(e){Hubzero.removeMessages();var t=$("#system-message-container"),n=$("<dl>").attr("id","system-message").attr("role","alert");$.each(e,function(e,t){$("<dt>").addClass(e).html(e).appendTo(n);var r=$("<dd>").addClass(e).addClass("message"),o=$("<ul>");$.each(t,function(e,t,r){$("<li>").html(t).appendTo(o)}),o.appendTo(r),r.appendTo(n)}),n.appendTo(t),$(document).trigger("renderMessages")},Hubzero.removeMessages=function(){$("#system-message-container > *").remove()},Hubzero.isChecked=function(e,t){void 0===t&&((t=document.getElementById("adminForm"))||(t=document.adminForm)),1==e?t.boxchecked.value++:t.boxchecked.value--},Hubzero.popupWindow=function(e,t,r,o,n){var a=(screen.width-r)/2,i="height="+o+",width="+r+",top="+(screen.height-o)/2+",left="+a+",scrollbars="+n+",resizable";window.open(e,t,i).window.focus()},Hubzero.tableOrdering=function(e,t,r,o){void 0===o&&((o=document.getElementById("adminForm"))||(o=document.adminForm)),o.filter_order.value=e,o.filter_order_Dir.value=t,Hubzero.submitform(r,o)},Hubzero.listItemTask=function(e,t){var r=document.adminForm,o=r[e];if(o){for(var n=0;;n++){var a=r["cb"+n];if(!a)break;a.checked=!1}o.checked=!0,r.boxchecked.value=1;var i=document.getElementById("adminForm");Hubzero.submitform(t,i)}return!1},Hubzero.saveOrder=function(e,t){t||(t="saveorder");for(var r=0;r<=e;r++){var o=document.adminForm["cb"+r];if(!o)return void alert("You cannot change the order of items, as an item in the list is `Checked Out`");0==o.checked&&(o.checked=!0)}return Hubzero.submitform(t)},Hubzero.hasClass=function(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)},Hubzero.addClass=function(e,t){e.classList?e.classList.add(t):hasClass(e,t)||(e.className+=" "+t)},Hubzero.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),"")},Hubzero.toolbarAction=function(e){e.preventDefault();var t=this;if(Hubzero.hasClass(t,"toolbar-submit")&&(Hubzero.hasClass(t,"toolbar-list")&&0==document.adminForm.boxchecked.value?alert(t.getAttribute("data-message")):t.getAttribute("data-task")?Hubzero.submitbutton(t.getAttribute("data-task")):console.log("Error: no task found.")),Hubzero.hasClass(t,"toolbar-popup")){var r=t.getAttribute("data-width")?t.getAttribute("data-width"):700,o=t.getAttribute("data-height")?t.getAttribute("data-height"):500;Hubzero.popupWindow(t.getAttribute("href"),t.getAttribute("data-message"),r,o,1)}Hubzero.hasClass(t,"toolbar-confirm")&&(Hubzero.hasClass(t,"toolbar-list")&&0==document.adminForm.boxchecked.value?alert(t.getAttribute("data-message")):confirm(t.getAttribute("data-confirm"))&&(t.getAttribute("data-task")?Hubzero.submitbutton(t.getAttribute("data-task")):console.log("Error: no task found.")))},Hubzero.filterSubmit=function(e){this.form.submit()},Hubzero.filterClear=function(e){var t,r=this.form.getElementsByClassName("filter");for(t=0;t<r.length;t++)"select"==r[t].tagName.toLowerCase()&&(r[t].selectedIndex=0),"input"==r[t].tagName.toLowerCase()&&(r[t].value="");this.form.submit()},Hubzero.gridCheckboxToggle=function(e){Hubzero.hasClass(this,"toggle-all")?Hubzero.checkAll(this):Hubzero.isChecked(this.checked)},Hubzero.gridOrder=function(e){return e.preventDefault(),Hubzero.tableOrdering(this.getAttribute("data-order"),this.getAttribute("data-direction"),this.getAttribute("data-task")),!1},Hubzero.gridOrderSave=function(e){e.preventDefault();var t=this.getAttribute("data-rows"),r=this.getAttribute("data-task");return t&&r&&Hubzero.saveOrder(t,r),!1},Hubzero.gridAction=function(e){e.preventDefault();var t=this.getAttribute("data-id"),r=this.getAttribute("data-task");return!(!t||!r)&&Hubzero.listItemTask(t,r)},Hubzero.paginate=function(){var e,t=document.querySelectorAll(".pagination a");for(e=0;e<t.length;e++)t[e].addEventListener("click",function(e){e.preventDefault(),document.adminForm[this.getAttribute("data-prefix")+"limitstart"].value=parseInt(this.getAttribute("data-start")),Hubzero.submitform()});var r=document.querySelectorAll(".pagination select");for(e=0;e<r.length;e++)r[e].addEventListener("change",function(e){Hubzero.submitform()})},void 0===Joomla)var Joomla={};Joomla.editors={},Joomla.editors.instances={},Joomla.submitform=function(e,t){return Hubzero.submitform(e,t)},Joomla.submitbutton=function(e){return Hubzero.submitbutton(e)},Joomla.JText={_:function(e,t){return Hubzero.Lang.txt(e,t)},load:function(e){return Hubzero.Lang.load(e)}},Joomla.replaceTokens=function(e){return Hubzero.replaceTokens(e)},Joomla.isEmail=function(e){return Hubzero.isEmail(e)},Joomla.checkAll=function(e,t){return Hubzero.checkAll(e,t)},Joomla.renderMessages=function(e){return Hubzero.renderMessages(e)},Joomla.removeMessages=function(){return Hubzero.removeMessages()},Joomla.isChecked=function(e,t){return Hubzero.isChecked(e,t)},Joomla.popupWindow=function(e,t,r,o,n){return Hubzero.popupWindow(e,t,r,o,n)},Joomla.tableOrdering=function(e,t,r,o){return Hubzero.tableOrdering(e,t,r,o)},Joomla.listItemTask=function(e,t){return Hubzero.listItemTask(e,t)},Joomla.saveOrder=function(e,t){return Hubzero.saveOrder(e,t)},Joomla.hasClass=function(e,t){return Hubzero.hasClass(e,t)},Joomla.addClass=function(e,t){return Hubzero.addClass(e,t)},Joomla.removeClass=function(e,t){return Hubzero.removeClass(e,t)},document.addEventListener("DOMContentLoaded",function(){var e,t=document.getElementsByClassName("toolbar");for(e=0;e<t.length;e++)t[e].addEventListener("click",Hubzero.toolbarAction);var r=document.getElementsByClassName("checkbox-toggle");for(e=0;e<r.length;e++)r[e].addEventListener("click",Hubzero.gridCheckboxToggle);var o=document.getElementsByClassName("filter-submit");for(e=0;e<o.length;e++)o[e].addEventListener("change",Hubzero.filterSubmit);var n=document.getElementsByClassName("filter-clear");for(e=0;e<n.length;e++)n[e].addEventListener("click",Hubzero.filterClear);n=document.getElementsByClassName("grid-order");for(e=0;e<n.length;e++)n[e].addEventListener("click",Hubzero.gridOrder);var a=document.getElementsByClassName("grid-order-save");for(e=0;e<a.length;e++)a[e].addEventListener("click",Hubzero.gridOrderSave);var i=document.getElementsByClassName("grid-action");for(e=0;e<i.length;e++)i[e].addEventListener("click",Hubzero.gridAction);Hubzero.paginate()});